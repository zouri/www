<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="utf-8">
    <title>Hi, is me 🎉</title>

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

    <script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>

    <script src="https://cdn.bootcss.com/vue/2.6.10/vue.js"></script>
        
    <!-- 引入样式 -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <!-- 引入组件库 -->
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>

    <script src="js/calendar.js"></script>
    <script src="js/shi.js"></script>
    <link rel="stylesheet" href="css/global.css">
</head>
<body>
<div id="app">
    <el-row>
        <el-col :span="24">
            <div class="to_day">{{ lunar_calendar }}</div>
        </el-col>
    </el-row>
    <el-row class="shi">
        <el-col :span="12" class="shi_content dtp" v-html="shi_content">
        </el-col>
        <el-col :span="1" class="shi_author dtp" >
            {{ shi_author }}
        </el-col>
        <el-col :span="1" class="shi_title dtp">
            {{ shi_title }}
        </el-col>
    </el-row>
</div>
<script>
    let app = new Vue({
        el: '#app',
        data: {
            lunar_calendar: "",
            shi_title: "",
            shi_author: "",
            shi_content: "",
        },
        mounted() {
            let shi = ShiDict[Math.floor(Math.random()*(0-27)+27)];
            this.shi_title = shi['title'];
            this.shi_author = shi['author'];
            this.shi_content = shi['content'].replace(/\n/g,'<br>');
            this.lunar_calendar = this.lunarCalendar();
        },
        methods: {
            lunarCalendar(){
                let t = new Date();
                let tt = calendar.solar2lunar(t.getFullYear(), t.getMonth() + 1, t.getDate());
                return tt.gzYear + tt.IMonthCn + tt.IDayCn;
            }
        },  
    })
</script>
</body>
</html>
